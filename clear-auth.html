<!DOCTYPE html>
<html>
  <head>
    <title>Clear Authentication State</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        text-align: center;
      }
      button {
        padding: 15px 30px;
        font-size: 16px;
        background: #dc3545;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      .success {
        color: green;
        margin: 20px 0;
      }
      .info {
        color: blue;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <h1>Clear Authentication State</h1>
    <p>This will clear all stored authentication tokens and session data.</p>

    <button onclick="clearAuth()">Clear All Auth Data</button>

    <div id="result"></div>

    <script>
      function clearAuth() {
        const result = document.getElementById("result");

        try {
          // Clear localStorage
          localStorage.removeItem("admin_auth_token");
          localStorage.removeItem("admin_refresh_token");
          localStorage.removeItem("auth-session");

          // Clear sessionStorage
          sessionStorage.removeItem("admin_auth_token");
          sessionStorage.removeItem("admin_refresh_token");

          result.innerHTML = `
                    <div class="success">
                        <h3>‚úÖ Authentication state cleared successfully!</h3>
                        <p>All tokens and session data have been removed.</p>
                    </div>
                    <div class="info">
                        <p>You can now visit <a href="http://localhost:3000/login">http://localhost:3000/login</a> to test proper authentication.</p>
                    </div>
                `;

          console.log("üßπ All authentication state cleared");
        } catch (error) {
          result.innerHTML = `<div style="color: red;">‚ùå Error: ${error.message}</div>`;
        }
      }

      // Show current state on load
      window.onload = function () {
        const hasToken =
          localStorage.getItem("admin_auth_token") ||
          sessionStorage.getItem("admin_auth_token");
        const hasSession = localStorage.getItem("auth-session");

        if (hasToken || hasSession) {
          document.getElementById("result").innerHTML = `
                    <div style="color: orange;">
                        <p>‚ö†Ô∏è Authentication data detected. Click the button above to clear it.</p>
                    </div>
                `;
        } else {
          document.getElementById("result").innerHTML = `
                    <div class="success">
                        <p>‚úÖ No authentication data found. State is already clean.</p>
                    </div>
                `;
        }
      };
    </script>
  </body>
</html>
